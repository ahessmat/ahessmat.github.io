---
title: "Book Review: A Guide to Kernel Exploitation"
published: false
date: 2025-02-22 00:00:00 +/-0000
categories: [career guidance]
tags: [resources,jobs]     # TAG names should always be lowercase
---

## Chapter 1

Perla and Oldani lay out some of the verbage/terminology that frames the rest of the book, explaining what a kernel is at a high-level and what it might mean to exploit it. There's a number of terms they go out of their way to speak to:

* They discuss the function of so-called "super users" (standing in for Administrator accounts in Windows OS and root for Linux) and how they're uniquely positioned to enact changes to the kernel.
* They highlight memory-related exploits, speaking to things like shellcode injection.

### User space vs. Kernel Space

The chapter also take time to spell out differentiation between user space (which most of us might be familiar with) and kernel space.

|Attempting to...|User-land exploits|Kernel-land exploits|
|-|-|-|
|Brute-force the vulnerability|This leads to multiple crashes of the application that can be restarted (or will be restarted automatically; for example, via inetd in Linux).|This leads to an inconsistent state of the machine and, generally, to a panic condition or a reboot.|
|Influence the target|The attacker has much more control (especially locally) over the victim application (e.g., the attacker can set the environment it will run in). The application is the only consumer of the library subsystem that uses it (e.g., the memory allocator).|The attacker races with all the other applications in an attempt to “influence” the kernel. All the applications are consumers of the kernel subsystems.|
|Execute shellcode|The shellcode can execute kernel system calls via user-land gates that guarantee safety and correctness.|The shellcode executes at a higher privilege level and has to return to user land correctly, without panicking the system.|
|Bypass anti-exploitation protections|This requires increasingly more complicated approaches.|Most of the protections are at the kernel level but do not protect the kernel itself. The attacker can even disable most of them.|


* The kernel is the only piece of software that's *mandatory* on a system.
  * If an error occurs within the kernel, the OS will just shut down - aka "panic".
* The kernel is protected from user space via software AND hardware.
* The kernel is large and complex.
* They denote that the kernel is a useful vehicle for enacting protections for user-land code (e.g. DEP, ASLR, etc.).

The rest of the chapter speaks extensively to memory addressing: how virtual memory representations map to physical RAM through page tables, how there are distinct page tables for every process, and how the kernel "hides" these pages from userland. 

* Kernel space on behalf of user space: kernel page tables are copied over to each process' virtual memory map.
* Kernel and process address spaces are distinct; processes are unaware of the kernel's map.

